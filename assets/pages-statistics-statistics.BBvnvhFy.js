import{r as a,c as l,o as s,a as t,w as e,i as u,b as c,d,n as o,e as r,m as f,t as _,h as n,f as v,g as m,F as i,k as b,S as y}from"./index-CTc8QSv-.js";import{u as g}from"./water-record.DNI4sOQI.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const p=h({__name:"statistics",setup(h){const p=g(),k=a(44),w=a("today"),x=l((()=>{const a=p.todayRecords,l=a.reduce(((a,l)=>a+l.amount),0);return{total:l,count:a.length,avg:a.length>0?Math.round(l/a.length):0}})),R=a([{day:"å‘¨ä¸€",value:1800,percent:90},{day:"å‘¨äºŒ",value:2e3,percent:100},{day:"å‘¨ä¸‰",value:1500,percent:75},{day:"å‘¨å››",value:2200,percent:100},{day:"å‘¨äº”",value:1900,percent:95},{day:"å‘¨å…­",value:2100,percent:100},{day:"å‘¨æ—¥",value:1600,percent:80}]),j=l((()=>{const a=R.value.reduce(((a,l)=>a+l.value),0);return{total:a,avg:Math.round(a/7)}})),C=a({total:58e3,avg:1933,count:32,goalRate:85});return s((()=>{p.loadFromLocal()})),(a,l)=>{const s=u,g=b,h=y;return c(),t(s,{class:"page-container"},{default:e((()=>[d(s,{class:"status-bar",style:o({height:k.value+"px"})},null,8,["style"]),d(s,{class:"nav-bar"},{default:e((()=>[d(g,{class:"nav-title"},{default:e((()=>[r("é¥®æ°´ç»Ÿè®¡")])),_:1})])),_:1}),d(s,{class:"tab-bar"},{default:e((()=>[d(s,{class:f(["tab-item",{active:"today"===w.value}]),onClick:l[0]||(l[0]=a=>w.value="today")},{default:e((()=>[d(g,{class:"tab-text"},{default:e((()=>[r("ä»Šæ—¥")])),_:1})])),_:1},8,["class"]),d(s,{class:f(["tab-item",{active:"week"===w.value}]),onClick:l[1]||(l[1]=a=>w.value="week")},{default:e((()=>[d(g,{class:"tab-text"},{default:e((()=>[r("æœ¬å‘¨")])),_:1})])),_:1},8,["class"]),d(s,{class:f(["tab-item",{active:"month"===w.value}]),onClick:l[2]||(l[2]=a=>w.value="month")},{default:e((()=>[d(g,{class:"tab-text"},{default:e((()=>[r("æœ¬æœˆ")])),_:1})])),_:1},8,["class"])])),_:1}),d(h,{class:"main-content","scroll-y":""},{default:e((()=>["today"===w.value?(c(),t(s,{key:0,class:"today-stats"},{default:e((()=>[d(s,{class:"stats-card"},{default:e((()=>[d(s,{class:"stat-icon"},{default:e((()=>[r("ðŸ’§")])),_:1}),d(s,{class:"stat-info"},{default:e((()=>[d(g,{class:"stat-value"},{default:e((()=>[r(_(x.value.total),1)])),_:1}),d(g,{class:"stat-label"},{default:e((()=>[r("ä»Šæ—¥é¥®æ°´é‡(ml)")])),_:1})])),_:1})])),_:1}),d(s,{class:"stats-row"},{default:e((()=>[d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(x.value.count),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("é¥®æ°´æ¬¡æ•°")])),_:1})])),_:1}),d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(x.value.avg),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("å¹³å‡æ¯æ¬¡(ml)")])),_:1})])),_:1})])),_:1})])),_:1})):n("",!0),"week"===w.value?(c(),t(s,{key:1,class:"week-stats"},{default:e((()=>[d(s,{class:"chart-container"},{default:e((()=>[d(g,{class:"chart-title"},{default:e((()=>[r("æœ¬å‘¨é¥®æ°´è¶‹åŠ¿")])),_:1}),d(s,{class:"chart"},{default:e((()=>[d(s,{class:"chart-bars"},{default:e((()=>[(c(!0),v(i,null,m(R.value,((a,l)=>(c(),t(s,{class:"chart-bar",key:l,style:o({height:a.percent+"%"})},{default:e((()=>[d(g,{class:"bar-value"},{default:e((()=>[r(_(a.value),1)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1}),d(s,{class:"chart-labels"},{default:e((()=>[(c(!0),v(i,null,m(R.value,((a,l)=>(c(),t(g,{key:l,class:"chart-label"},{default:e((()=>[r(_(a.day),1)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),d(s,{class:"stats-row"},{default:e((()=>[d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(j.value.total),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("æœ¬å‘¨æ€»é‡(ml)")])),_:1})])),_:1}),d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(j.value.avg),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("æ—¥å‡(ml)")])),_:1})])),_:1})])),_:1})])),_:1})):n("",!0),"month"===w.value?(c(),t(s,{key:2,class:"month-stats"},{default:e((()=>[d(s,{class:"stats-card"},{default:e((()=>[d(s,{class:"stat-icon"},{default:e((()=>[r("ðŸ“Š")])),_:1}),d(s,{class:"stat-info"},{default:e((()=>[d(g,{class:"stat-value"},{default:e((()=>[r(_(C.value.total),1)])),_:1}),d(g,{class:"stat-label"},{default:e((()=>[r("æœ¬æœˆé¥®æ°´é‡(ml)")])),_:1})])),_:1})])),_:1}),d(s,{class:"stats-row"},{default:e((()=>[d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(C.value.avg),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("æ—¥å‡(ml)")])),_:1})])),_:1}),d(s,{class:"stats-card-small"},{default:e((()=>[d(g,{class:"stat-value-small"},{default:e((()=>[r(_(C.value.count),1)])),_:1}),d(g,{class:"stat-label-small"},{default:e((()=>[r("é¥®æ°´æ¬¡æ•°")])),_:1})])),_:1})])),_:1}),d(s,{class:"goal-progress"},{default:e((()=>[d(s,{class:"goal-header"},{default:e((()=>[d(g,{class:"goal-title"},{default:e((()=>[r("ç›®æ ‡å®ŒæˆçŽ‡")])),_:1}),d(g,{class:"goal-percent"},{default:e((()=>[r(_(C.value.goalRate)+"%",1)])),_:1})])),_:1}),d(s,{class:"goal-bar"},{default:e((()=>[d(s,{class:"goal-fill",style:o({width:C.value.goalRate+"%"})},null,8,["style"])])),_:1})])),_:1})])),_:1})):n("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-e16d4b87"]]);export{p as default};
